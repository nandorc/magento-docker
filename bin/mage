#!/bin/bash

cd $(echo "${0}" | sed -e "s/mage/../")
[ ! -d ./magento-app ] && mkdir ./magento-app && echo -e "INF~ magento-app folder created" && docker compose restart web
[ ${#} -eq 0 ] && echo -e "ERR~ No command to execute" && exit 1

if [ "${1}" == "bash" ]; then
  shift
  docker compose exec --user magento web bash -li
elif [ "${1}" == "mysql" ]; then
  shift
  docker compose exec db mysql ${@}
else
  docker compose ${@}
fi
exit 0
